{"version":3,"file":"story-container/view.js","mappings":"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","sources":["webpack://dahlia-blocks/./src/story-container/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\ndocument.addEventListener('DOMContentLoaded', () => {\n\tconst containers = document.querySelectorAll('.wp-block-dahlia-blocks-story-container');\n\n\tcontainers.forEach((container) => {\n\t\tlet currentFontSizeIndex = 0;\n\t\tconst fontSizes = [20, 25, 30, 35];\n\n\t\t// Aplicar mida de font inicial\n\t\tcontainer.style.fontSize = `${fontSizes[currentFontSizeIndex]}px`;\n\t\tcontainer.classList.add(`font-size-${currentFontSizeIndex}`);\n\n\t\t// Crear contenidor principal\n\t\tconst controls = document.createElement('div');\n\t\tcontrols.classList.add('story-container-controls', 'wp-block-buttons');\n\n\t\t// Crear i capturar referències als botons\n\t\tfunction createWrappedButton({ text, className, ariaLabel, title }) {\n\t\t\tconst wrapper = document.createElement('div');\n\t\t\twrapper.classList.add('wp-block-button');\n\n\t\t\tconst button = document.createElement('button');\n\t\t\tbutton.classList.add(className, 'wp-block-button__link');\n\t\t\tbutton.textContent = text;\n\t\t\tbutton.setAttribute('aria-label', ariaLabel);\n\t\t\tbutton.setAttribute('title', title);\n\n\t\t\twrapper.appendChild(button);\n\t\t\tcontrols.appendChild(wrapper);\n\n\t\t\treturn button; // Retorna el botó per poder-hi afegir esdeveniments\n\t\t}\n\n\t\tconst increaseButton = createWrappedButton({\n\t\t\ttext: '+',\n\t\t\tclassName: 'increase-font',\n\t\t\tariaLabel: 'Augmenta la mida del text',\n\t\t\ttitle: 'Augmenta la mida del text'\n\t\t});\n\n\t\tconst decreaseButton = createWrappedButton({\n\t\t\ttext: '-',\n\t\t\tclassName: 'decrease-font',\n\t\t\tariaLabel: 'Redueix la mida del text',\n\t\t\ttitle: 'Redueix la mida del text'\n\t\t});\n\n\t\tconst toggleFontButton = createWrappedButton({\n\t\t\ttext: 'a/A',\n\t\t\tclassName: 'toggle-font',\n\t\t\tariaLabel: 'Canvia la tipografia',\n\t\t\ttitle: 'Canvia la tipografia'\n\t\t});\n\n\t\t// Afegim el contenidor de controls al principi\n\t\tcontainer.insertBefore(controls, container.firstChild);\n\n\t\t// Esdeveniments\n\t\tincreaseButton.addEventListener('click', () => {\n\t\t\tif (currentFontSizeIndex < fontSizes.length - 1) {\n\t\t\t\tcontainer.classList.remove(`font-size-${currentFontSizeIndex}`);\n\t\t\t\tcurrentFontSizeIndex++;\n\t\t\t\tcontainer.classList.add(`font-size-${currentFontSizeIndex}`);\n\t\t\t}\n\t\t});\n\n\t\tdecreaseButton.addEventListener('click', () => {\n\t\t\tif (currentFontSizeIndex > 0) {\n\t\t\t\tcontainer.classList.remove(`font-size-${currentFontSizeIndex}`);\n\t\t\t\tcurrentFontSizeIndex--;\n\t\t\t\tcontainer.classList.add(`font-size-${currentFontSizeIndex}`);\n\t\t\t}\n\t\t});\n\n\t\ttoggleFontButton.addEventListener('click', () => {\n\t\t\tcontainer.classList.toggle('story-block-font');\n\t\t});\n\t});\n});\n/* eslint-enable no-console */\n"],"names":["document","addEventListener","containers","querySelectorAll","forEach","container","currentFontSizeIndex","fontSizes","style","fontSize","classList","add","controls","createElement","createWrappedButton","text","className","ariaLabel","title","wrapper","button","textContent","setAttribute","appendChild","increaseButton","decreaseButton","toggleFontButton","insertBefore","firstChild","length","remove","toggle"],"sourceRoot":""}